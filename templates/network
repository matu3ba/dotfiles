https://discourse.nixos.org/t/set-up-wifi-minimal-system/8554
wpa_supplicant
wcli

networkmanager
networkctl list
nmcli
nmtui
avahi-discover


ping command examples
-w TIMEOUT    [to test if there is a connection at all]

list all ip addresses connected to your server
netstat -tn 2>/dev/null | grep :80 | awk '{print $5}' | cut -d: -f1 | sort | uniq -c | sort -nr | head

To show the gateways (routers):
ip route
To show the default gateway[s]:
ip -4 route show default
ip -6 route show default

tcpdump options
-D list of devices
-c X number of packets before stopping
-n (ip addresses instead of names)
-sSIZE limit of capture
port PORT
-w write into file
-i interface
tcpdump -i hwinterface -w file.tcpdump
tcpdump -i hwinterface -w file.pcap
wireshark file.tcpdump

specify a source IP address, destination IP address and source port in tcpdump filter
tcpdump -i enp1s9 dst 192.168.6.1 and src 192.168.6.2 and src port 80

To get THEIP, use `ip a` and look for dynamic (typically DNS)
IP=THEIP
PORT=80
sudo tcpdump -n -i eth0 -w file.tcpdump "(src port PORT or dst port PORT) and not (src net YOURIP or dst net YOURIP)"

Alternatives to tcpdump on Windows(tcpdump does not work in WSL): winpcap, wireshark, netsh trace
netsh trace start capture=yes IPv4.Address=192.168.122.2
Reading trace on Windows with "Message Analyzer".

Adding static ip address to connect to same subsystem
sudo ip a a 192.168.XX.XX/24 dev interface

sudo nft flush ruleset
sudo nft add table nat

Port forwarding ssh to https(usage via 'ssh user@192.168.XX.YY -p 443') taken from
https://wiki.nftables.org/wiki-nftables/index.php/Performing_Network_Address_Translation_(NAT)

sudo sysctl net.ipv4.ip_forward=1
sudo nft flush ruleset
sudo nft add table nat
sudo nft 'add chain nat postrouting { type nat hook postrouting priority 100 ; }'
sudo nft 'add chain nat prerouting { type nat hook prerouting priority -100; }'
sudo nft 'add rule nat prerouting ip daddr 192.168.XX.YY tcp dport { 443 } dnat 192.168.XX.YY:22'
sudo nft 'add rule nat postrouting masquerade'
